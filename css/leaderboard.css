:root {
    --lb-max: 980px;
}

.leaderboard-page main.lb-main {
    padding: 28px 18px 60px;
}

.leaderboard-page .lb-row .lb-main {
    min-width: 0;
    padding: 0;
}

.leaderboard-page .lb-header {
    max-width: var(--lb-max);
    margin: 0 auto 16px;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 16px;
}

.leaderboard-page .lb-header h1 {
    margin: 0.25rem 0 0;
    letter-spacing: -0.03em;
}

.leaderboard-page .lb-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: flex-end;
}

.leaderboard-page .lb-card {
    max-width: var(--lb-max);
    margin: 0 auto;
    padding: 14px;
}

.leaderboard-page .lb-you {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid rgba(0, 255, 170, 0.22);
    background: rgba(0, 255, 170, 0.06);
    margin-bottom: 12px;
}

html[data-theme="light"] .leaderboard-page .lb-you {
    border-color: rgba(231, 163, 77, 0.45);
    background: rgba(231, 163, 77, 0.10);
}

.leaderboard-page .lb-you-title {
    font-weight: 900;
    letter-spacing: -0.02em;
}

.leaderboard-page .lb-you-right {
    font-weight: 900;
    white-space: nowrap;
}

.leaderboard-page .lb-list {
    display: grid;
    gap: 10px;
}

.leaderboard-page .lb-row {
    display: grid;
    grid-template-columns: 72px 1fr 120px;
    gap: 12px;
    align-items: center;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(255, 255, 255, 0.02);
}

html[data-theme="light"] .leaderboard-page .lb-row {
    border-color: rgba(0, 0, 0, 0.08);
    background: rgba(0, 0, 0, 0.01);
}

.leaderboard-page .lb-rankbox {
    display: grid;
    justify-items: center;
    gap: 6px;
}

.leaderboard-page .lb-ranknum {
    font-weight: 950;
    letter-spacing: -0.02em;
    opacity: 0.9;
}

.leaderboard-page .lb-avatar {
    width: 34px;
    height: 34px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.14);
    overflow: hidden;
    background: rgba(255, 255, 255, 0.04);
    flex: 0 0 auto;
}

html[data-theme="light"] .leaderboard-page .lb-avatar {
    border-color: rgba(0, 0, 0, 0.10);
    background: rgba(0, 0, 0, 0.02);
}

.leaderboard-page .lb-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.leaderboard-page .lb-avatar.noimg {
    display: grid;
    place-items: center;
}

.leaderboard-page .lb-avatar-fallback {
    width: 100%;
    height: 100%;
    display: grid;
    place-items: center;
    font-weight: 950;
    letter-spacing: -0.02em;
    font-size: 12px;
    opacity: 0.9;
}

.leaderboard-page .lb-topline {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 10px;
    min-width: 0;
}

.leaderboard-page .lb-name {
    font-weight: 950;
    letter-spacing: -0.02em;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.leaderboard-page .lb-handle {
    font-size: 12px;
    font-weight: 800;
    white-space: nowrap;
    flex: none;
}

.leaderboard-page .lb-badges {
    margin-top: 6px;
    display: flex;
    gap: 6px;
    flex-wrap: nowrap;
    align-items: center;
    overflow-x: auto;
    overflow-y: hidden;
    padding-bottom: 2px;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge legacy */
}

.leaderboard-page .lb-badges::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

.leaderboard-page .lb-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 3px 7px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    background: rgba(255, 255, 255, 0.04);
    font-weight: 900;
    font-size: 11px;
    opacity: 0.92;
    white-space: nowrap;
}

.leaderboard-page .lb-pill[data-icon]::before {
    content: attr(data-icon);
    font-size: 12px;
    line-height: 1;
    transform: translateY(-0.5px);
    opacity: 0.95;
}

.leaderboard-page .lb-pill[data-tone="amber"] {
    border-color: rgba(231, 163, 77, 0.35);
    background: rgba(231, 163, 77, 0.12);
}

.leaderboard-page .lb-pill[data-tone="emerald"] {
    border-color: rgba(34, 197, 94, 0.28);
    background: rgba(34, 197, 94, 0.10);
}

.leaderboard-page .lb-pill[data-tone="teal"] {
    border-color: rgba(45, 212, 191, 0.26);
    background: rgba(45, 212, 191, 0.10);
}

.leaderboard-page .lb-pill[data-tone="sky"] {
    border-color: rgba(56, 189, 248, 0.26);
    background: rgba(56, 189, 248, 0.10);
}

.leaderboard-page .lb-pill[data-tone="indigo"] {
    border-color: rgba(99, 102, 241, 0.26);
    background: rgba(99, 102, 241, 0.10);
}

.leaderboard-page .lb-pill[data-tone="violet"] {
    border-color: rgba(167, 139, 250, 0.26);
    background: rgba(167, 139, 250, 0.10);
}

.leaderboard-page .lb-pill[data-tone="rose"] {
    border-color: rgba(251, 113, 133, 0.26);
    background: rgba(251, 113, 133, 0.10);
}

.leaderboard-page .lb-pill[data-tone="lime"] {
    border-color: rgba(163, 230, 53, 0.26);
    background: rgba(163, 230, 53, 0.10);
}

html[data-theme="light"] .leaderboard-page .lb-pill {
    border-color: rgba(0, 0, 0, 0.10);
    background: rgba(0, 0, 0, 0.02);
}

/* Award styling: each award gets its own gradient + border. */
.leaderboard-page .lb-pill[data-award],
.leaderboard-page .lb-award[data-award] {
    --aw-a: rgba(255, 255, 255, 0.10);
    --aw-b: rgba(255, 255, 255, 0.02);
    --aw-bd: rgba(255, 255, 255, 0.18);
    --aw-sheen: rgba(255, 255, 255, 0.22);
}

.leaderboard-page .lb-pill[data-award] {
    border-color: var(--aw-bd);
    background: linear-gradient(135deg, var(--aw-a), var(--aw-b));
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.leaderboard-page .lb-pill[data-award]::after {
    content: '';
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 30%, var(--aw-sheen), rgba(255, 255, 255, 0));
    opacity: 0.7;
}

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="streak_3"] { --aw-a: rgba(56, 189, 248, 0.22); --aw-b: rgba(167, 139, 250, 0.08); --aw-bd: rgba(56, 189, 248, 0.30); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="streak_7"] { --aw-a: rgba(231, 163, 77, 0.22); --aw-b: rgba(251, 113, 133, 0.08); --aw-bd: rgba(231, 163, 77, 0.34); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="streak_14"] { --aw-a: rgba(167, 139, 250, 0.22); --aw-b: rgba(56, 189, 248, 0.08); --aw-bd: rgba(167, 139, 250, 0.30); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="streak_30"] { --aw-a: rgba(99, 102, 241, 0.24); --aw-b: rgba(231, 163, 77, 0.08); --aw-bd: rgba(99, 102, 241, 0.32); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="workout_1"] { --aw-a: rgba(45, 212, 191, 0.20); --aw-b: rgba(255, 255, 255, 0.02); --aw-bd: rgba(45, 212, 191, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="workout_5"] { --aw-a: rgba(34, 197, 94, 0.20); --aw-b: rgba(56, 189, 248, 0.06); --aw-bd: rgba(34, 197, 94, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="workout_10"] { --aw-a: rgba(99, 102, 241, 0.20); --aw-b: rgba(56, 189, 248, 0.06); --aw-bd: rgba(99, 102, 241, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="workout_15"] { --aw-a: rgba(251, 113, 133, 0.20); --aw-b: rgba(167, 139, 250, 0.06); --aw-bd: rgba(251, 113, 133, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="workout_20"] { --aw-a: rgba(231, 163, 77, 0.22); --aw-b: rgba(163, 230, 53, 0.06); --aw-bd: rgba(231, 163, 77, 0.34); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="checkin_1"] { --aw-a: rgba(255, 255, 255, 0.10); --aw-b: rgba(255, 255, 255, 0.02); --aw-bd: rgba(255, 255, 255, 0.16); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="checkin_7"] { --aw-a: rgba(56, 189, 248, 0.20); --aw-b: rgba(255, 255, 255, 0.02); --aw-bd: rgba(56, 189, 248, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="checkin_14"] { --aw-a: rgba(167, 139, 250, 0.20); --aw-b: rgba(255, 255, 255, 0.02); --aw-bd: rgba(167, 139, 250, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="checkin_20"] { --aw-a: rgba(34, 197, 94, 0.20); --aw-b: rgba(163, 230, 53, 0.06); --aw-bd: rgba(34, 197, 94, 0.28); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="grocery_1"] { --aw-a: rgba(163, 230, 53, 0.20); --aw-b: rgba(56, 189, 248, 0.04); --aw-bd: rgba(163, 230, 53, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="grocery_3"] { --aw-a: rgba(45, 212, 191, 0.20); --aw-b: rgba(163, 230, 53, 0.06); --aw-bd: rgba(45, 212, 191, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="grocery_6"] { --aw-a: rgba(99, 102, 241, 0.20); --aw-b: rgba(45, 212, 191, 0.06); --aw-bd: rgba(99, 102, 241, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="grocery_10"] { --aw-a: rgba(231, 163, 77, 0.22); --aw-b: rgba(45, 212, 191, 0.06); --aw-bd: rgba(231, 163, 77, 0.34); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="mealprep_1"] { --aw-a: rgba(251, 113, 133, 0.20); --aw-b: rgba(231, 163, 77, 0.06); --aw-bd: rgba(251, 113, 133, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="mealprep_7"] { --aw-a: rgba(34, 197, 94, 0.20); --aw-b: rgba(231, 163, 77, 0.06); --aw-bd: rgba(34, 197, 94, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="mealprep_14"] { --aw-a: rgba(231, 163, 77, 0.22); --aw-b: rgba(251, 113, 133, 0.06); --aw-bd: rgba(231, 163, 77, 0.34); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="planmeals_1"] { --aw-a: rgba(45, 212, 191, 0.20); --aw-b: rgba(56, 189, 248, 0.06); --aw-bd: rgba(45, 212, 191, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="planmeals_7"] { --aw-a: rgba(167, 139, 250, 0.20); --aw-b: rgba(45, 212, 191, 0.06); --aw-bd: rgba(167, 139, 250, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="planmeals_14"] { --aw-a: rgba(99, 102, 241, 0.22); --aw-b: rgba(56, 189, 248, 0.06); --aw-bd: rgba(99, 102, 241, 0.32); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="measures_1"] { --aw-a: rgba(56, 189, 248, 0.20); --aw-b: rgba(255, 255, 255, 0.02); --aw-bd: rgba(56, 189, 248, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="triple_measures_1"] { --aw-a: rgba(231, 163, 77, 0.22); --aw-b: rgba(56, 189, 248, 0.06); --aw-bd: rgba(231, 163, 77, 0.34); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="measures_7"] { --aw-a: rgba(45, 212, 191, 0.20); --aw-b: rgba(56, 189, 248, 0.06); --aw-bd: rgba(45, 212, 191, 0.28); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="measures_21"] { --aw-a: rgba(167, 139, 250, 0.22); --aw-b: rgba(99, 102, 241, 0.08); --aw-bd: rgba(167, 139, 250, 0.32); }

.leaderboard-page :is(.lb-pill, .lb-award)[data-award="points_100"] { --aw-a: rgba(163, 230, 53, 0.22); --aw-b: rgba(45, 212, 191, 0.06); --aw-bd: rgba(163, 230, 53, 0.30); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="points_500"] { --aw-a: rgba(231, 163, 77, 0.22); --aw-b: rgba(34, 197, 94, 0.06); --aw-bd: rgba(231, 163, 77, 0.34); }
.leaderboard-page :is(.lb-pill, .lb-award)[data-award="points_1000"] { --aw-a: rgba(99, 102, 241, 0.22); --aw-b: rgba(167, 139, 250, 0.10); --aw-bd: rgba(99, 102, 241, 0.34); }

.leaderboard-page .lb-pill-streak {
    border-color: rgba(231, 163, 77, 0.35);
    background: rgba(231, 163, 77, 0.12);
}

.leaderboard-page .lb-pill-you {
    border-color: rgba(0, 255, 170, 0.24);
    background: rgba(0, 255, 170, 0.10);
}

html[data-theme="light"] .leaderboard-page .lb-pill-you {
    border-color: rgba(231, 163, 77, 0.45);
    background: rgba(231, 163, 77, 0.10);
}

.leaderboard-page .lb-pill-community {
    border-color: rgba(255, 255, 255, 0.10);
    background: rgba(255, 255, 255, 0.02);
}

html[data-theme="light"] .leaderboard-page .lb-pill-community {
    border-color: rgba(0, 0, 0, 0.10);
    background: rgba(0, 0, 0, 0.01);
}

.leaderboard-page .lb-bio {
    margin-top: 6px;
    font-size: 12px;
    opacity: 0.86;
    line-height: 1.35;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
}

.leaderboard-page .lb-right {
    border-left: 1px solid rgba(255, 255, 255, 0.08);
    padding-left: 14px;
    display: flex;
    justify-content: flex-end;
}

html[data-theme="light"] .leaderboard-page .lb-right {
    border-left-color: rgba(0, 0, 0, 0.08);
}

.leaderboard-page .lb-points {
    font-weight: 950;
    white-space: nowrap;
}

.leaderboard-page .lb-row.is-gold {
    border-color: rgba(231, 163, 77, 0.38);
    background: radial-gradient(900px 190px at 0% 0%, rgba(231, 163, 77, 0.18), rgba(255, 255, 255, 0.02));
}

.leaderboard-page .lb-row.is-silver {
    border-color: rgba(148, 163, 184, 0.30);
    background: radial-gradient(900px 190px at 0% 0%, rgba(148, 163, 184, 0.16), rgba(255, 255, 255, 0.02));
}

.leaderboard-page .lb-row.is-bronze {
    border-color: rgba(251, 146, 60, 0.28);
    background: radial-gradient(900px 190px at 0% 0%, rgba(251, 146, 60, 0.16), rgba(255, 255, 255, 0.02));
}

/* Modal */
.leaderboard-page .lb-modal {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    z-index: 1000;
}
.leaderboard-page .lb-modal.hidden { display: none; }
.leaderboard-page .lb-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
    backdrop-filter: blur(4px);
}
.leaderboard-page .lb-modal-card {
    position: relative;
    width: min(760px, calc(100vw - 28px));
    max-height: min(82vh, 720px);
    overflow: auto;
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    background: rgba(16, 12, 10, 0.88);
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
    padding: 16px;
}
:root[data-theme="light"] .leaderboard-page .lb-modal-card {
    background: rgba(255, 255, 255, 0.94);
    border-color: rgba(0, 0, 0, 0.10);
}
.leaderboard-page .lb-modal-head {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 10px;
}
.leaderboard-page .lb-modal-title {
    font-weight: 900;
    letter-spacing: -0.03em;
}
.leaderboard-page .lb-close {
    border: none;
    background: transparent;
    font-size: 28px;
    line-height: 1;
    cursor: pointer;
    opacity: 0.75;
    padding: 6px 8px;
}
.leaderboard-page .lb-close:hover { opacity: 1; }
.leaderboard-page .lb-rule {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(255, 255, 255, 0.02);
    margin-top: 10px;
}
html[data-theme="light"] .leaderboard-page .lb-rule {
    border-color: rgba(0, 0, 0, 0.08);
    background: rgba(0, 0, 0, 0.01);
}
.leaderboard-page .lb-rule-title { font-weight: 900; }
.leaderboard-page .lb-rule-points { font-weight: 900; white-space: nowrap; }
.leaderboard-page .lb-rule-note { font-size: 12px; opacity: 0.78; margin-top: 4px; }

/* Awards modal */
.leaderboard-page .lb-awards-grid {
    margin-top: 12px;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px;
}

.leaderboard-page .lb-award {
    position: relative;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(255, 255, 255, 0.02);
    overflow: hidden;
    padding: 12px 12px 12px;
}

html[data-theme="light"] .leaderboard-page .lb-award {
    border-color: rgba(0, 0, 0, 0.10);
    background: rgba(0, 0, 0, 0.01);
}

.leaderboard-page .lb-award[data-award] {
    border-color: var(--aw-bd);
    background: radial-gradient(1100px 240px at 0% 0%, var(--aw-a), rgba(255, 255, 255, 0.02));
}

html[data-theme="light"] .leaderboard-page .lb-award[data-award] {
    background: radial-gradient(1100px 240px at 0% 0%, var(--aw-a), rgba(0, 0, 0, 0.01));
}

.leaderboard-page .lb-award::after {
    content: attr(data-icon);
    position: absolute;
    right: 10px;
    top: 10px;
    font-size: 18px;
    opacity: 0.55;
    transform: translateY(-1px);
    filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.25));
}

.leaderboard-page .lb-award-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.leaderboard-page .lb-award-pill {
    font-size: 12px;
    padding: 5px 9px;
}

.leaderboard-page .lb-award-how {
    margin-top: 8px;
    font-size: 12px;
    opacity: 0.86;
    line-height: 1.35;
}

@media (max-width: 760px) {
    .leaderboard-page .lb-header {
        flex-direction: column;
        align-items: flex-start;
    }
    .leaderboard-page .lb-row {
        grid-template-columns: 72px 1fr;
    }
    .leaderboard-page .lb-right {
        border-left: 0;
        padding-left: 0;
        justify-content: flex-start;
        grid-column: 1 / -1;
    }

    .leaderboard-page .lb-awards-grid {
        grid-template-columns: 1fr;
    }
}
